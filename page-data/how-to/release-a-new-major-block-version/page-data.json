{"componentChunkName":"component---src-templates-docs-js","path":"/how-to/release-a-new-major-block-version","result":{"data":{"site":{"siteMetadata":{"title":"Element Documentation | Volusion","docsLocation":"https://github.com/volusion/element"}},"mdx":{"fields":{"id":"af4ff627-df14-5988-9781-3d9c3abc6fd6","title":"Release A New Major Block Version","slug":"/how-to/release-a-new-major-block-version"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Release A New Major Block Version\",\n  \"metaTitle\": \"Release A New Major Block Version\",\n  \"metaDescription\": \"This how-to guide will teach you how to release a new major (opt-in) version of your block that your block users will need to manually upgrade to.\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In this how-to guide, you'll learn how to release a new major (opt-in) version of your block that your block users will need to manually upgrade to. This is often necessary when you are introducing breaking changes to your block, such as changes to the block appearance or config schema. You can also \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/element/how-to/release-a-minor-block-change\"\n  }), \"release non-breaking block changes that automatically propagate to all your block users\"), \".\"), mdx(\"h2\", null, \"Prerequisites\"), mdx(\"p\", null, \"This guide assumes that you already have a published block that you are modifying. If you don't have a published block yet, see \\\"\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/element/tutorials/building-an-element-page\"\n  }), \"Building an Element Page Tutorial\"), \",\\\" which covers creating and publishing blocks.\"), mdx(\"h2\", null, \"1. Create a New Major Version of Your Block\"), mdx(\"p\", null, \"For opt-in or breaking changes, you'll want a new version branch to do your work in. Go to your terminal and navigate to your block's home directory, then type this command to create a new major version for your block:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"element publish -m\\n\")), mdx(\"h2\", null, \"2. Make Your Block Changes\"), mdx(\"p\", null, \"Make the code changes for your block.\"), mdx(\"h2\", null, \"3. Verify Your Changes in Staging\"), mdx(\"p\", null, \"Once you have made the changes in your block, you should release them to staging so you can verify that the block works as intended. To do that, return to your terminal from earlier with the block\\u2019s home directory, then type these commands:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"npm run build\\nelement update\\n\")), mdx(\"p\", null, \"Your changes will now be available for you (and anyone in your development org) to see in Site Designer and via the Site Designer Preview link. Manually test them in a theme and verify that they are ready to release to your block users. If your changes are not ready yet, re-run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm run build\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"element update\"), \" again every time you alter the block code, and then test again.\"), mdx(\"h2\", null, \"4. Release Your New Version\"), mdx(\"p\", null, \"When your changes are ready, you can make them available in Site Designer by publishing a release. New major releases will instantly be available for your block users to manually upgrade, but they must take manual action to do so. In your terminal, run this command:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"element release -n \\\"Release note\\\"\\n\")), mdx(\"p\", null, \"It's also a good time to tag the release with a commit. To do so, run this command in your terminal:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-shell\"\n  }), \"git commit -am \\\"Released a new major version\\\"\\n\")), mdx(\"p\", null, \"Your new major block version will be available to upgrade in Site Designer on a per-block basis. Anytime the block is added to a theme from now on, it will automatically use the latest version. Each placement of the block will need to be upgraded (unless it's a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/element/how-to/reuse-a-block-across-pages\"\n  }), \"reusable block\"), \").\"), mdx(\"h3\", null, \"Switching Your Block to the New Version in Site Designer\"), mdx(\"p\", null, \"To upgrade a block in Site Designer to a new major version, do the following:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"View a page that shows the block.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Begin editing the block to open its edit panel.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click the gear icon in the panel and select a new block version, or\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click the callout that says that there's a new block version available.\")), mdx(\"h2\", null, \"Further Reading\"), mdx(\"p\", null, \"See \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/element/how-to/track-block-versions\"\n  }), \"Track Block Versions\"), \"\\\" for more advice about releases.\"), mdx(\"p\", null, \"See the \\\"\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/element/references/element-cli\"\n  }), \"Element CLI\"), \"\\\" reference for more details about Element CLI commands.\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#prerequisites","title":"Prerequisites"},{"url":"#1-create-a-new-major-version-of-your-block","title":"1. Create a New Major Version of Your Block"},{"url":"#2-make-your-block-changes","title":"2. Make Your Block Changes"},{"url":"#3-verify-your-changes-in-staging","title":"3. Verify Your Changes in Staging"},{"url":"#4-release-your-new-version","title":"4. Release Your New Version","items":[{"url":"#switching-your-block-to-the-new-version-in-site-designer","title":"Switching Your Block to the New Version in Site Designer"}]},{"url":"#further-reading","title":"Further Reading"}]},"parent":{"__typename":"File","relativePath":"how-to/release-a-new-major-block-version.md"},"frontmatter":{"metaTitle":"Release A New Major Block Version","metaDescription":"This how-to guide will teach you how to release a new major (opt-in) version of your block that your block users will need to manually upgrade to."}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/explanations","title":"Explanations"}}},{"node":{"fields":{"slug":"/how-to","title":"How-to Guides"}}},{"node":{"fields":{"slug":"/","title":"Element Platform Documentation"}}},{"node":{"fields":{"slug":"/introduction","title":"What Is Element?"}}},{"node":{"fields":{"slug":"/references","title":"Reference"}}},{"node":{"fields":{"slug":"/tutorials","title":"Tutorials"}}},{"node":{"fields":{"slug":"/tutorials/building-an-element-page","title":"Building An Element Page Tutorial"}}},{"node":{"fields":{"slug":"/tutorials/product-landing-page","title":"Implementing a New Product Landing Page Tutorial"}}},{"node":{"fields":{"slug":"/tutorials/proptypes","title":"Working With Element Proptypes Tutorial"}}},{"node":{"fields":{"slug":"/tutorials/site-designer","title":"Design A New Theme With Site Designer Tutorial"}}},{"node":{"fields":{"slug":"/references/block-utils","title":"Block Utils"}}},{"node":{"fields":{"slug":"/references/cart-events","title":"Cart Events"}}},{"node":{"fields":{"slug":"/references/element-cli","title":"Element CLI"}}},{"node":{"fields":{"slug":"/references/proptypes","title":"Proptypes"}}},{"node":{"fields":{"slug":"/references/sdk","title":"Element SDK Client"}}},{"node":{"fields":{"slug":"/references/styling-your-block-with-css","title":"Styling Your Block With CSS"}}},{"node":{"fields":{"slug":"/how-to/add-blocks-to-templates","title":"Add Blocks to Templates"}}},{"node":{"fields":{"slug":"/how-to/add-external-scripts-from-a-block","title":"Add External Scripts from a Block"}}},{"node":{"fields":{"slug":"/how-to/add-page-to-theme","title":"Add a Page to a Theme"}}},{"node":{"fields":{"slug":"/how-to/add-page-with-uri-parameters","title":"Add a Page That Depends on URI Parameters"}}},{"node":{"fields":{"slug":"/how-to/communicate-between-blocks","title":"Communicate Between Blocks"}}},{"node":{"fields":{"slug":"/how-to/data-third-party-services","title":"Fetch Data from Third-Party Services"}}},{"node":{"fields":{"slug":"/how-to/data-volusion-api","title":"Fetch Data from Volusion's API"}}},{"node":{"fields":{"slug":"/how-to/env-setup","title":"Set up Your Local Environment"}}},{"node":{"fields":{"slug":"/how-to/fetch-data-fast","title":"Fetch Block Data Fast"}}},{"node":{"fields":{"slug":"/how-to/get-approved-to-develop-blocks","title":"Get Approved to Develop Blocks"}}},{"node":{"fields":{"slug":"/how-to/interact-with-the-cart","title":"Interact with the Cart"}}},{"node":{"fields":{"slug":"/how-to/preview-block-changes","title":"Preview Block Changes"}}},{"node":{"fields":{"slug":"/how-to/proptypes","title":"Add Element Proptypes"}}},{"node":{"fields":{"slug":"/how-to/read-page-uri-parameters-in-blocks","title":"Read Page URI Parameters In Blocks"}}},{"node":{"fields":{"slug":"/how-to/release-a-minor-block-change","title":"Release A Minor Block Change"}}},{"node":{"fields":{"slug":"/how-to/release-a-new-major-block-version","title":"Release A New Major Block Version"}}},{"node":{"fields":{"slug":"/how-to/reuse-a-block-across-pages","title":"Reuse A Block Across Pages"}}},{"node":{"fields":{"slug":"/how-to/set-seo-data-from-a-block","title":"Set SEO Data from a Block"}}},{"node":{"fields":{"slug":"/how-to/style-a-block-with-aphrodite","title":"Style A Block With Aphrodite"}}},{"node":{"fields":{"slug":"/how-to/track-block-versions","title":"Track Block Versions"}}},{"node":{"fields":{"slug":"/how-to/use-react-hooks-in-a-block","title":"Use React Hooks in an Element Block"}}},{"node":{"fields":{"slug":"/explanations/adding-a-blog","title":"Adding a Blog"}}},{"node":{"fields":{"slug":"/how-to/rollback-a-block-change","title":"Rollback A Block Change"}}},{"node":{"fields":{"slug":"/explanations/all-the-tech-you-need","title":"All The Tech You Need"}}},{"node":{"fields":{"slug":"/explanations/block-versions","title":"Block Versions"}}},{"node":{"fields":{"slug":"/explanations/element-concepts","title":"Element Concepts"}}},{"node":{"fields":{"slug":"/explanations/e-commerce-pages","title":"Ecommerce Theme Pages"}}},{"node":{"fields":{"slug":"/explanations/keeping-your-site-fast","title":"Keeping Your Site Fast"}}},{"node":{"fields":{"slug":"/explanations/what-is-element","title":"What Is Element?"}}}]}},"pageContext":{"id":"af4ff627-df14-5988-9781-3d9c3abc6fd6"}}}